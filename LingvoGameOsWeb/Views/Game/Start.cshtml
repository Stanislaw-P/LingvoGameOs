@{
    ViewData["Title"] = ViewBag.GameTitle;
}

<div class="wrapper">
    <div id="header-placeholder"></div>

    @if (ViewBag.GameUrl == null)
    {
        <div class="game-play__loading" id="loadingScreen">
            <p class="game-play__loading-text">Загрузка...</p>
        </div>
    }
    else
    {
        <div class="game-container">
            <iframe src="@ViewBag.GameUrl"
                    frameborder="0"
                    allowfullscreen
                    class="game-iframe">
            </iframe>
        </div>
    }

    <div id="footer-placeholder"></div>
</div>

<style>
    .game-container {
        position: relative;
        width: 100%;
        max-width: 375px;
        margin: 20px auto;
        aspect-ratio: 9/16;
        background: #000;
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        border: 12px solid #1a1a1a;
    }

    .game-iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: none;
        background: #000;
    }

    @@supports not (aspect-ratio: 9/16) {
        .game-container {
            height: 0;
            padding-bottom: 177.77%;
        }
    }

    @@media (min-width: 769px) and (max-width: 1024px) {
        .game-container {
            max-width: 400px;
            margin: 30px auto;
        }
    }

    @@media (min-width: 1025px) {
        .game-container {
            max-width: 525px;
            margin: 40px auto;
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }
    }

    @@media (max-width: 768px) {
        .game-container {
            max-width: 100%;
            margin: 0 auto;
            border-radius: 0;
            border: none;
            height: 100vh;
            box-shadow: none;
        }
    }

    @@media (max-width: 380px) and (max-height: 700px) {
        .game-container {
            aspect-ratio: 9/18;
        }
    }

    @@media (max-width: 768px) and (orientation: landscape) {
        .game-container {
            aspect-ratio: 16/9;
            max-width: 100vh;
            margin: 0 auto;
        }
    }
</style>